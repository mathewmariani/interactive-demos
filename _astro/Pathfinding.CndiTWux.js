import{a as k,b as O,v as R}from"./runtime-dom.esm-bundler.DE5ggYQW.js";import{_ as U,M as W}from"./_plugin-vue_export-helper.BxHQGQiJ.js";import{c as _,o as y,f as p,a as g,d as E,i as j,F as C,r as B,w as G,t as H,j as A,h as v,n as K}from"./runtime-core.esm-bundler.pornAQY8.js";/* empty css                             */const X={__name:"DragHandle",props:{modelValue:{type:Object,required:!0},color:{type:String,default:"black"},size:{type:Number,default:5}},emits:["update:modelValue"],setup(x,{expose:n,emit:s}){n();function e(o){const i=o.currentTarget.ownerSVGElement;let c=i.createSVGPoint();return c.x=o.clientX,c.y=o.clientY,c=c.matrixTransform(i.getScreenCTM().inverse()),c}const f=x,m=s,t=p(!1);function d(o){t.value=!0,o.currentTarget.setPointerCapture(o.pointerId)}function b(){t.value=!1}function w(o){if(!t.value)return;const{x:i,y:c}=e(o);m("update:modelValue",{x:i,y:c})}const h={eventToSvgCoordinates:e,props:f,emit:m,dragging:t,pointerDown:d,pointerUp:b,pointerMove:w,ref:p};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}},Y=["fill","r","cx","cy"];function J(x,n,s,e,f,m){return y(),_("circle",{fill:s.color,r:s.size,cx:s.modelValue.x+.5,cy:s.modelValue.y+.5,onTouchstart:n[0]||(n[0]=k(()=>{},["prevent"])),onDragstart:n[1]||(n[1]=k(()=>{},["prevent"])),onPointerdown:k(e.pointerDown,["left"]),onPointerup:e.pointerUp,onPointercancel:e.pointerUp,onPointermove:e.pointerMove},null,40,Y)}const Q=U(X,[["render",J]]),Z={__name:"Pathfinding",async setup(x,{expose:n}){n();let s,e;function f(r,a,u){return r<a?a:r>u?u:r}const m=([s,e]=A(()=>W()),s=await s,e(),s),t=new m.GridWorld(23,23),d=[],b=p([]),w=p(0);d.push(m.BreadthFirstSearch),d.push(m.DijkstraSearch),d.push(m.GreedySearch),b.value.push("Breadth First Search","Dijkstra Search","Greedy Search");const h=p(0),o=p({x:11,y:11}),i=p({x:16,y:2}),c=p(0),S=v(()=>23),V=v(()=>23),F=v(()=>{const r=[],a=S.value,u=V.value;for(let l=0;l<u;l++)for(let M=0;M<a;M++)r.push({x:M,y:l});return r}),D=v(()=>({x:o.value.x,y:o.value.y})),P=v(()=>(c.value,d[w.value](t,D.value,h.value))),N=v({get:()=>({x:o.value.x,y:o.value.y}),set:({x:r,y:a})=>{const u=Math.round(r-.5),l=Math.round(a-.5);o.value.x=f(u,0,S.value-1),o.value.y=f(l,0,V.value-1)}}),z=v({get:()=>({x:i.value.x,y:i.value.y}),set:({x:r,y:a})=>{const u=Math.round(r-.5),l=Math.round(a-.5);i.value.x=f(u,0,S.value-1),i.value.y=f(l,0,V.value-1)}}),I=v(()=>{const a=P.value.came_from;if(!a.has(i.value))return[];const u=[];let l=i.value;for(;l.x!==o.value.x||l.y!==o.value.y;)u.push({x:l.x+.5,y:l.y+.5}),l=a.get(l);return u.push({x:o.value.x+.5,y:o.value.y+.5}),u.reverse()});function L(r){t.toggleWall(r),c.value++}function q(r){if(c.value,t.isWall(r))return"wall";const a=P.value;return a.frontier.has(r)?"frontier":a.came_from.has(r)?"explored":""}const T={clamp:f,wasmModule:m,gridWorld:t,generators:d,generatorNames:b,ruleIndex:w,stepLimit:h,center:o,goal:i,renderKey:c,getWidth:S,getHeight:V,locations:F,goalToGrid:D,bfsResults:P,centerPosition:N,goalPosition:z,path:I,toggleWall:L,classFor:q,ref:p,computed:v,get Module(){return W},DragHandle:Q};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}},$={id:"diagram1"},ee={class:"d-flex justify-content-center"},te=["viewBox"],oe=["x","y","onClick"],ne=["points"],re={class:"container py-3"},ae={class:"mb-3"},le={class:"mb-3"},se=["value"],ie={class:"mb-3"},ce={for:"stepRange",class:"form-label"},ue=["max"];function de(x,n,s,e,f,m){return y(),_("figure",$,[g("main",ee,[(y(),_("svg",{viewBox:`0 0 ${e.getWidth} ${e.getHeight}`},[(y(!0),_(C,null,B(e.locations,t=>(y(),_("rect",{key:`${t.x}-${t.y}`,class:K("cell "+e.classFor(t)),x:t.x,y:t.y,width:1,height:1,onClick:d=>e.toggleWall(t)},null,10,oe))),128)),e.path.length?(y(),_("polyline",{key:0,points:e.path.map(t=>`${t.x},${t.y}`).join(" "),stroke:"red","stroke-width":"0.2",fill:"none"},null,8,ne)):E("",!0),j(e.DragHandle,{modelValue:e.centerPosition,"onUpdate:modelValue":n[0]||(n[0]=t=>e.centerPosition=t),color:"yellow",size:.5},null,8,["modelValue"]),j(e.DragHandle,{modelValue:e.goalPosition,"onUpdate:modelValue":n[1]||(n[1]=t=>e.goalPosition=t),color:"red",size:.5},null,8,["modelValue"])],8,te))]),g("div",re,[g("div",ae,[g("div",le,[n[4]||(n[4]=g("label",{for:"generatorSelect",class:"form-label"},"Generator",-1)),G(g("select",{id:"generatorSelect","onUpdate:modelValue":n[2]||(n[2]=t=>e.ruleIndex=t),class:"form-select"},[(y(!0),_(C,null,B(e.generatorNames,(t,d)=>(y(),_("option",{key:d,value:d},H(t),9,se))),128))],512),[[O,e.ruleIndex]])]),g("div",ie,[g("label",ce,"Time: "+H(e.stepLimit),1),G(g("input",{id:"stepRange","onUpdate:modelValue":n[3]||(n[3]=t=>e.stepLimit=t),type:"range",class:"form-range",min:"0",max:e.getWidth*e.getHeight},null,8,ue),[[R,e.stepLimit,void 0,{number:!0}]])])])])])}const pe=U(Z,[["render",de],["__scopeId","data-v-caf2d824"]]);export{pe as default};
