import{a as M,b as A,v as O}from"./runtime-dom.esm-bundler.DMilj070.js";import{_ as H,M as F}from"./_plugin-vue_export-helper.Dl3WSc5M.js";import{c as f,o as g,f as h,a as _,d as R,i as T,F as D,r as j,w as B,t as W,j as E,h as p,n as K}from"./runtime-core.esm-bundler.B5J6oV3O.js";/* empty css                             */const X={__name:"DragHandle",props:{modelValue:{type:Object,required:!0},color:{type:String,default:"black"},size:{type:Number,default:5}},emits:["update:modelValue"],setup(x,{expose:o,emit:i}){o();function t(n){const c=n.currentTarget.ownerSVGElement;let l=c.createSVGPoint();return l.x=n.clientX,l.y=n.clientY,l=l.matrixTransform(c.getScreenCTM().inverse()),l}const v=x,m=i,e=h(!1);function u(n){e.value=!0,n.currentTarget.setPointerCapture(n.pointerId)}function b(){e.value=!1}function S(n){if(!e.value)return;const{x:c,y:l}=t(n);m("update:modelValue",{x:c,y:l})}const y={eventToSvgCoordinates:t,props:v,emit:m,dragging:e,pointerDown:u,pointerUp:b,pointerMove:S,ref:h};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}},Y=["fill","r","cx","cy"];function J(x,o,i,t,v,m){return g(),f("circle",{fill:i.color,r:i.size,cx:i.modelValue.x+.5,cy:i.modelValue.y+.5,onTouchstart:o[0]||(o[0]=M(()=>{},["prevent"])),onDragstart:o[1]||(o[1]=M(()=>{},["prevent"])),onPointerdown:M(t.pointerDown,["left"]),onPointerup:t.pointerUp,onPointercancel:t.pointerUp,onPointermove:t.pointerMove},null,40,Y)}const Q=H(X,[["render",J]]),Z={__name:"Pathfinding",async setup(x,{expose:o}){o();let i,t;function v(r,a,d){return r<a?a:r>d?d:r}const m=([i,t]=E(()=>F()),i=await i,t(),i),e=new m.GridWorld(23,23),u=[],b=h([]),S=h(0);u.push(m.BreadthFirstSearch),u.push(m.AStarSearch),u.push(m.DijkstraSearch),u.push(m.GreedySearch),b.value.push("Breadth First Search","AStar Search","Dijkstra Search","Greedy Search");const y=h(0),n=h({x:11,y:11}),c=h({x:16,y:2}),l=h(0),w=p(()=>23),V=p(()=>23),U=p(()=>{const r=[],a=w.value,d=V.value;for(let s=0;s<d;s++)for(let k=0;k<a;k++)r.push({x:k,y:s});return r}),P=p(()=>(l.value,u[S.value](e,{start:n.value,goal:c.value,stepLimit:y.value}))),z=p({get:()=>n.value,set:({x:r,y:a})=>{const d=Math.round(r-.5),s=Math.round(a-.5);n.value.x=v(d,0,w.value-1),n.value.y=v(s,0,V.value-1)}}),G=p({get:()=>c.value,set:({x:r,y:a})=>{const d=Math.round(r-.5),s=Math.round(a-.5);c.value.x=v(d,0,w.value-1),c.value.y=v(s,0,V.value-1)}}),L=p(()=>{const a=P.value.came_from;if(!a.has(c.value))return[];const d=[];let s=c.value;for(;s.x!==n.value.x||s.y!==n.value.y;)d.push({x:s.x+.5,y:s.y+.5}),s=a.get(s);return d.push({x:n.value.x+.5,y:n.value.y+.5}),d.reverse()});function N(r){e.toggleWall(r),l.value++}function I(r){if(l.value,e.isWall(r))return"wall";const a=P.value;return a.frontier.has(r)?"frontier":a.came_from.has(r)?"explored":""}function q(r){l.value;const a=P.value;if(a.frontier.has(r))return a.frontier.get(r).cost}const C={clamp:v,wasmModule:m,gridWorld:e,generators:u,generatorNames:b,ruleIndex:S,stepLimit:y,start:n,goal:c,renderKey:l,getWidth:w,getHeight:V,locations:U,bfsResults:P,startPosition:z,goalPosition:G,path:L,toggleWall:N,classFor:I,heuristicFor:q,ref:h,computed:p,get Module(){return F},DragHandle:Q};return Object.defineProperty(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}},$={id:"diagram1"},ee={class:"d-flex justify-content-center"},te=["viewBox"],re=["x","y","onClick"],oe=["x","y"],ne=["points"],ae={class:"container py-3"},se={class:"mb-3"},le={class:"mb-3"},ie=["value"],ue={class:"mb-3"},ce={for:"stepRange",class:"form-label"},de=["max"];function me(x,o,i,t,v,m){return g(),f("figure",$,[_("main",ee,[(g(),f("svg",{viewBox:`0 0 ${t.getWidth} ${t.getHeight}`},[(g(!0),f(D,null,j(t.locations,e=>(g(),f("rect",{key:`${e.x}-${e.y}`,class:K("cell "+t.classFor(e)),x:e.x,y:e.y,width:1,height:1,onClick:u=>t.toggleWall(e)},null,10,re))),128)),(g(!0),f(D,null,j(t.locations,e=>(g(),f("text",{key:`${e.x}-${e.y}`,x:e.x+.35,y:e.y+.75,"font-size":"0.5",fill:"black"},W(t.heuristicFor(e)),9,oe))),128)),t.path.length?(g(),f("polyline",{key:0,points:t.path.map(e=>`${e.x},${e.y}`).join(" "),stroke:"ghostwhite","stroke-width":"0.35",fill:"none","stroke-linejoin":"round"},null,8,ne)):R("",!0),T(t.DragHandle,{modelValue:t.startPosition,"onUpdate:modelValue":o[0]||(o[0]=e=>t.startPosition=e),color:"yellow",size:.5},null,8,["modelValue"]),T(t.DragHandle,{modelValue:t.goalPosition,"onUpdate:modelValue":o[1]||(o[1]=e=>t.goalPosition=e),color:"red",size:.5},null,8,["modelValue"])],8,te))]),_("div",ae,[_("div",se,[_("div",le,[o[4]||(o[4]=_("label",{for:"generatorSelect",class:"form-label"},"Generator",-1)),B(_("select",{id:"generatorSelect","onUpdate:modelValue":o[2]||(o[2]=e=>t.ruleIndex=e),class:"form-select"},[(g(!0),f(D,null,j(t.generatorNames,(e,u)=>(g(),f("option",{key:u,value:u},W(e),9,ie))),128))],512),[[A,t.ruleIndex]])]),_("div",ue,[_("label",ce,"Time: "+W(t.stepLimit),1),B(_("input",{id:"stepRange","onUpdate:modelValue":o[3]||(o[3]=e=>t.stepLimit=e),type:"range",class:"form-range",min:"0",max:t.getWidth*t.getHeight},null,8,de),[[O,t.stepLimit,void 0,{number:!0}]])])])])])}const he=H(Z,[["render",me],["__scopeId","data-v-8854b89f"]]);export{he as default};
