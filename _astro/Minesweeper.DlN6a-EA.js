import{w as d}from"./runtime-dom.esm-bundler.DTNACNSh.js";import{M as m,_ as y}from"./_plugin-vue_export-helper.RMgU4IPV.js";/* empty css                             */import{s as g,c as i,a,t as u,F as _,b as f,o as n,e as h,n as b}from"./runtime-core.esm-bundler.ltsPOEB_.js";const x=await m();let w=new x.GridWorld(10,8),p=new x.Minesweeper;const k={data:()=>({gridWorld:g(w),board:g(p),gameover:!1,has_won:!1}),computed:{getWidth(){return this.gridWorld.width_readonly},getHeight(){return this.gridWorld.height_readonly},locations(){const t=this.gridWorld.locations().keys(),s=[];for(let o=0;o<t.size();o++){const l=t.get(o);s.push(l)}return s},getStatus(){return this.gameover?this.has_won?"ðŸ˜Ž":"ðŸ˜µ":"ðŸ™‚"}},methods:{reset(){this.board.reset(),this.gameover=!1,this.has_won=!1,this.$forceUpdate()},flag(t){if(this.gameover||this.board.isExplored(t)){console.log("here");return}this.board.toggleFlag(t),this.board.checkWin()&&(this.has_won=!0,this.gameover=!0),this.$forceUpdate()},explore(t){this.gameover||(this.board.explore(t),this.board.isMine(t)?this.gameover=!0:this.board.checkWin()&&(this.has_won=!0,this.gameover=!0),this.$forceUpdate())},getMineCount(t){let s=this.board.getMineCount(t);return s==0?"":s},isMine(t){return this.board.isMine(t)},isExplored(t){return this.board.isExplored(t)},isFlag(t){return this.board.isFlag(t)},classFor(t){return this.board.isExplored(t)?"explored":""}}},v={id:"diagram1"},M={class:"d-flex flex-column align-items-center"},C=["viewBox"],W=["onClick","onContextmenu"],F=["x","y"],E=["x","y"],B=["cx","cy"],z={key:2,stroke:"rgb(51, 151, 217)","stroke-width":"0.1"},R=["x1","y1","x2","y2"],S=["x1","y1","x2","y2"];function U(t,s,o,l,H,r){return n(),i("figure",v,[a("div",M,[a("button",{type:"button",class:"btn btn-primary btn-lg btn-block mb-4",onClick:s[0]||(s[0]=(...e)=>r.reset&&r.reset(...e))},u(r.getStatus),1),(n(),i("svg",{viewBox:`0 0 ${r.getWidth} ${r.getHeight}`,onContextmenu:s[1]||(s[1]=d((...e)=>t.handleRightClick&&t.handleRightClick(...e),["prevent"]))},[(n(!0),i(_,null,f(r.locations,e=>(n(),i("g",{onClick:d(c=>r.explore(e),["left"]),onContextmenu:d(c=>r.flag(e),["right"])},[a("rect",{class:b("cell "+r.classFor(e)),x:e.x,y:e.y,width:"1",height:"1"},null,10,F),r.isExplored(e)&&!r.isMine(e)?(n(),i("text",{key:0,"text-anchor":"middle","font-size":.45,x:e.x+.5,y:e.y+.5,dy:.15},u(r.getMineCount(e)),9,E)):h("",!0),r.isExplored(e)&&r.isMine(e)?(n(),i("circle",{key:1,cx:e.x+.5,cy:e.y+.5,r:"0.25",fill:"rgb(229, 74, 58)"},null,8,B)):h("",!0),r.isFlag(e)?(n(),i("g",z,[a("line",{x1:e.x+.2,y1:e.y+.2,x2:e.x+.8,y2:e.y+.8},null,8,R),a("line",{x1:e.x+.2,y1:e.y+.8,x2:e.x+.8,y2:e.y+.2},null,8,S)])):h("",!0)],40,W))),256))],40,C))])])}const I=y(k,[["render",U],["__scopeId","data-v-e9f06c7c"]]);export{I as default};
