import{w as V}from"./runtime-dom.esm-bundler.CMPt5mJk.js";import{_ as j,M as h}from"./_plugin-vue_export-helper.D5XuD4oB.js";/* empty css                             */import{c as s,a as l,t as p,F as D,r as I,b as f,o as b,d as u,e as i,g as v,n as L}from"./runtime-core.esm-bundler.CiNPDSLD.js";const O={__name:"Minesweeper",setup(M,{expose:c}){c();let r=null;const n=f(!1),a=f(!1),o=f(0);b(async()=>{const t=await h();r=new t.Minesweeper,o.value++});const e=u(()=>10),d=u(()=>8),k=u(()=>{const t=[],x=e.value,m=d.value;for(let g=0;g<m;g++)for(let _=0;_<x;_++)t.push({x:_,y:g});return t}),w=u(()=>n.value?a.value?"ðŸ˜Ž":"ðŸ˜µ":"ðŸ™‚");function C(){r&&(r.reset(),n.value=!1,a.value=!1,o.value++)}function F(t){!r||n.value||r.isExplored(t)||(r.toggleFlag(t),r.checkWin()&&(a.value=!0,n.value=!0),o.value++)}function E(t){!r||n.value||(r.explore(t),r.isMine(t)?n.value=!0:r.checkWin()&&(a.value=!0,n.value=!0),o.value++)}function B(t){return o.value,r?.getMineCount(t)||""}function S(t){return o.value,r?.isMine(t)||!1}function W(t){return o.value,r?.isExplored(t)||!1}function N(t){return o.value,r?.isFlag(t)||!1}function z(t){o.value;const x=(t.x+t.y)%2===0?"dark":"light";return`${r?.isExplored(t)?"explored":""} ${x}`.trim()}function H(t){return{1:"#0000FF",2:"#008000",3:"#FF0000",4:"#000080",5:"#800000",6:"#008080",7:"#000000",8:"#808080"}[t]||"#000000"}const y={get board(){return r},set board(t){r=t},gameover:n,hasWon:a,tick:o,getWidth:e,getHeight:d,locations:k,getStatus:w,reset:C,flag:F,explore:E,getMineCount:B,isMine:S,isExplored:W,isFlag:N,classFor:z,getNumberColor:H,ref:f,computed:u,onMounted:b,get Module(){return h}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}},P={id:"diagram1"},q={class:"d-flex flex-column align-items-center"},A=["viewBox"],G=["onClick","onContextmenu"],J=["x","y"],K=["x","y","fill"],Q=["cx","cy"],R={key:2,stroke:"rgb(51, 151, 217)","stroke-width":"0.1"},T=["x1","y1","x2","y2"],U=["x1","y1","x2","y2"];function X(M,c,r,n,a,o){return i(),s("figure",P,[l("div",q,[l("button",{type:"button",class:"btn btn-primary btn-lg btn-block mb-4",onClick:n.reset},p(n.getStatus),1),(i(),s("svg",{viewBox:`0 0 ${n.getWidth} ${n.getHeight}`,onContextmenu:c[0]||(c[0]=V(()=>{},["prevent"]))},[(i(!0),s(D,null,I(n.locations,e=>(i(),s("g",{onClick:d=>n.explore(e),onContextmenu:d=>n.flag(e)},[l("rect",{class:L("cell "+n.classFor(e)),x:e.x,y:e.y,width:"1",height:"1"},null,10,J),n.isExplored(e)&&!n.isMine(e)?(i(),s("text",{key:0,"text-anchor":"middle","font-size":.45,x:e.x+.5,y:e.y+.5,dy:.15,fill:n.getNumberColor(n.getMineCount(e)),"font-weight":"bolder"},p(n.getMineCount(e)),9,K)):v("",!0),n.isExplored(e)&&n.isMine(e)?(i(),s("circle",{key:1,cx:e.x+.5,cy:e.y+.5,r:"0.25",fill:"rgb(229, 74, 58)"},null,8,Q)):v("",!0),n.isFlag(e)?(i(),s("g",R,[l("line",{x1:e.x+.2,y1:e.y+.2,x2:e.x+.8,y2:e.y+.8},null,8,T),l("line",{x1:e.x+.2,y1:e.y+.8,x2:e.x+.8,y2:e.y+.2},null,8,U)])):v("",!0)],40,G))),256))],40,A))])])}const te=j(O,[["render",X],["__scopeId","data-v-0a626b9b"]]);export{te as default};
